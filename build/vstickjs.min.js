/*!
* @license VStickJS
* Visit http://vstickjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2015 vstickjs.co.uk
*
* Distributed under the terms of the MIT license.
* http://www.opensource.org/licenses/mit-license.html
*
* This notice shall be included in all copies or substantial portions of the Software.
*/

var VStickJS=VStickJS||{};VStickJS.Global={};VStickJS.Core={};VStickJS.Controls={};VStickJS.Skins={};VStickJS.Styles={};VStickJS.Styles.VSComponent={actualPixelWidth:50,actualPixelHeight:50,backgroundColor:"#F26422",fontSize:"30px",fontFamily:"Arial",color:"#ffffff",textStrokeColor:"#ffffff",strokeColor:"#eeeeee",borderColor:"#333333",shadowColor:"#999999",shadowBlur:2,textShadowColor:"#999999",textShadowBlur:2,borderShadowColor:"#999999",borderShadowBlur:2};VStickJS.Skins.vstickJSCage=function(graphics){graphics.moveTo(25,0);graphics.bezierCurveTo(39,0,50,11,50,25);graphics.bezierCurveTo(50,39,39,50,25,50);graphics.bezierCurveTo(11,50,0,39,0,25);graphics.bezierCurveTo(0,11,11,0,25,0);return graphics};
VStickJS.Skins.vstickJSKnob=function(graphics){graphics.moveTo(30,179);graphics.lineTo(0,104);graphics.lineTo(31,30);graphics.lineTo(105,0);graphics.lineTo(179,31);graphics.lineTo(210,105);graphics.lineTo(179,179);graphics.lineTo(104,210);graphics.lineTo(30,179);return graphics};
VStickJS.Skins.vstickJSButton=function(graphics){graphics.moveTo(25,0);graphics.bezierCurveTo(39,0,50,11,50,25);graphics.bezierCurveTo(50,39,39,50,25,50);graphics.bezierCurveTo(11,50,0,39,0,25);graphics.bezierCurveTo(0,11,11,0,25,0);return graphics};
VStickJS.Skins.vstickJSArrows1=function(graphics){graphics.moveTo(226,1);graphics.bezierCurveTo(226,1,232,7,235,13);graphics.bezierCurveTo(238,18,239,23,239,24);graphics.bezierCurveTo(240,25,239,26,238,26);graphics.bezierCurveTo(237,26,231,25,225,25);graphics.bezierCurveTo(218,25,212,26,211,26);graphics.bezierCurveTo(210,26,209,25,210,24);graphics.bezierCurveTo(210,23,211,18,214,13);graphics.bezierCurveTo(217,7,222,2,223,1);graphics.bezierCurveTo(224,0,225,0,226,1);graphics.moveTo(226,449);graphics.bezierCurveTo(227,
449,232,443,236,438);graphics.bezierCurveTo(239,432,239,427,240,427);graphics.bezierCurveTo(240,425,240,424,238,424);graphics.bezierCurveTo(238,424,231,425,225,425);graphics.bezierCurveTo(219,425,213,424,212,424);graphics.bezierCurveTo(210,424,210,426,210,427);graphics.bezierCurveTo(211,427,211,433,214,438);graphics.bezierCurveTo(218,443,223,449,223,449);graphics.bezierCurveTo(224,450,226,450,226,449);graphics.moveTo(383,384);graphics.bezierCurveTo(382,384,374,384,368,383);graphics.bezierCurveTo(362,
381,357,378,357,377);graphics.bezierCurveTo(356,377,355,376,356,375);graphics.bezierCurveTo(357,374,362,371,366,366);graphics.bezierCurveTo(371,362,374,357,375,356);graphics.bezierCurveTo(376,355,377,356,378,357);graphics.bezierCurveTo(378,358,381,362,383,368);graphics.bezierCurveTo(384,374,384,381,385,382);graphics.bezierCurveTo(385,383,384,385,383,384);graphics.moveTo(65,68);graphics.bezierCurveTo(65,68,65,76,67,82);graphics.bezierCurveTo(68,88,72,93,72,93);graphics.bezierCurveTo(72,94,74,95,75,
94);graphics.bezierCurveTo(75,93,79,88,83,84);graphics.bezierCurveTo(87,79,93,76,93,75);graphics.bezierCurveTo(94,74,94,73,93,72);graphics.bezierCurveTo(92,72,88,69,82,67);graphics.bezierCurveTo(76,66,68,66,67,66);graphics.bezierCurveTo(66,65,65,66,65,68);graphics.moveTo(1,224);graphics.bezierCurveTo(1,224,7,218,13,215);graphics.bezierCurveTo(18,212,23,211,24,211);graphics.bezierCurveTo(25,210,26,211,26,212);graphics.bezierCurveTo(26,213,25,219,25,225);graphics.bezierCurveTo(25,231,26,237,26,238);
graphics.bezierCurveTo(26,240,25,240,24,240);graphics.bezierCurveTo(23,239,18,239,13,236);graphics.bezierCurveTo(7,233,2,227,1,227);graphics.bezierCurveTo(0,226,0,225,1,224);graphics.moveTo(449,224);graphics.bezierCurveTo(449,223,443,218,438,214);graphics.bezierCurveTo(432,211,427,211,426,210);graphics.bezierCurveTo(425,210,424,210,424,212);graphics.bezierCurveTo(424,212,425,219,425,225);graphics.bezierCurveTo(425,231,424,237,424,238);graphics.bezierCurveTo(424,239,425,240,427,239);graphics.bezierCurveTo(427,
239,432,238,438,235);graphics.bezierCurveTo(443,232,448,227,449,226);graphics.bezierCurveTo(450,226,450,224,449,224);graphics.moveTo(66,383);graphics.bezierCurveTo(66,382,66,374,68,368);graphics.bezierCurveTo(69,362,73,358,73,357);graphics.bezierCurveTo(73,356,75,356,76,357);graphics.bezierCurveTo(76,357,80,362,84,367);graphics.bezierCurveTo(88,371,93,374,94,375);graphics.bezierCurveTo(95,376,94,378,93,378);graphics.bezierCurveTo(92,378,88,381,82,383);graphics.bezierCurveTo(76,385,69,385,68,385);
graphics.bezierCurveTo(67,385,65,384,66,383);graphics.moveTo(382,66);graphics.bezierCurveTo(382,66,374,66,368,67);graphics.bezierCurveTo(362,69,357,72,357,72);graphics.bezierCurveTo(356,73,355,74,356,75);graphics.bezierCurveTo(357,75,362,79,366,83);graphics.bezierCurveTo(371,88,374,93,375,93);graphics.bezierCurveTo(376,94,377,94,378,93);graphics.bezierCurveTo(378,92,381,88,383,82);graphics.bezierCurveTo(384,76,384,68,384,68);graphics.bezierCurveTo(385,66,384,65,382,66);return graphics};VStickJS.Core.VSComponent=function(){this.BORDER_WIDTH_PAD=2;this.style=VStickJS.Styles.VSComponent;this.id=createjs.UID.get();this.name="VSComponent_"+this.id;this.width=0;this.height=0;this.actualWidth=0;this.actualHeight=0;this.scaleX=0;this.scaleY=0;this.posX=0;this.posY=0;this.backgroundColor="";this.text="";this.color="";this.fontSize="";this.fontFamily="";this.regX=0;this.regY=0;this.skewX=0;this.skewY=0;this.rotation=0;this.linearGradient=[];this.radialGradient=[];this.textStrokeWidth=0;this.textStrokeColor=
"#dddddd";this.displayShadow=false;this.shadowColor="#000000";this.shadowPosX=1;this.shadowPosY=1;this.shadowBlur=5;this.borderWidth=0;this.borderColor="#000000";this.displayBorderShadow=false;this.borderShadowColor="#000000";this.borderShadowPosX=1;this.borderShadowPosY=1;this.borderShadowBlur=5;this.strokeStyle=[];this.strokeDash=[];this.strokeColor="#000000";this.graphics="";this.displayTextShadow=false;this.textShadowColor="";this.textShadowPosX=1;this.textShadowPosY=1;this.textShadowBlur=5;this.textPosX=
0;this.textPosY=0;this.textAlign="";this.image="";this.maskImage=false;this.alpha=1;this.filters=[]};VStickJS.Core.VSComponent.prototype.getId=function(){return this.id};VStickJS.Core.VSComponent.prototype.getName=function(){return this.name};VStickJS.Core.VSComponent.prototype.getActualWidth=function(){if(this.actualWidth>0)return this.actualWidth;else return this.style.actualPixelWidth};
VStickJS.Core.VSComponent.prototype.getActualHeight=function(){if(this.actualHeight>0)return this.actualHeight;else return this.style.actualPixelHeight};VStickJS.Core.VSComponent.prototype.getScaleX=function(){if(this.scaleX>0)if(this.width>0)return this.width/this.getActualWidth()*this.scaleX;else return this.scaleX;else if(this.width>0)return this.width/this.getActualWidth();else return 1};
VStickJS.Core.VSComponent.prototype.getScaleY=function(){if(this.scaleY>0)if(this.height>0)return this.height/this.getActualHeight()*this.scaleY;else return this.scaleY;else if(this.height>0)return this.height/this.getActualHeight();else return 1};VStickJS.Core.VSComponent.prototype.getWidth=function(){if(this.width>0)if(this.scaleX>0)return this.width*this.scaleX;else return this.width;else if(this.scaleX>0)return this.getActualWidth()*this.scaleX;else return this.getActualWidth()};
VStickJS.Core.VSComponent.prototype.getHeight=function(){if(this.height>0)if(this.scaleY>0)return this.height*this.scaleY;else return this.height;else if(this.scaleY>0)return this.getActualHeight()*this.scaleY;else return this.getActualHeight()};VStickJS.Core.VSComponent.prototype.getPosX=function(){return this.posX};VStickJS.Core.VSComponent.prototype.getPosY=function(){return this.posY};
VStickJS.Core.VSComponent.prototype.getFillColor=function(){if(this.backgroundColor!=="")return this.backgroundColor;else return this.style.backgroundColor};VStickJS.Core.VSComponent.prototype.getText=function(){return this.text};VStickJS.Core.VSComponent.prototype.getColor=function(){if(this.color!=="")return this.color;else return this.style.color};VStickJS.Core.VSComponent.prototype.getFontSize=function(){if(this.fontSize!=="")return this.fontSize;else return this.style.fontSize};
VStickJS.Core.VSComponent.prototype.getFontFamily=function(){if(this.fontFamily!=="")return this.fontFamily;else return this.style.fontFamily};VStickJS.Core.VSComponent.prototype.getRegX=function(){if(this.regX==="center")return this.getWidth()/2;else return this.regX};VStickJS.Core.VSComponent.prototype.getRegY=function(){if(this.regY==="center")return this.getHeight()/2;else return this.regY};VStickJS.Core.VSComponent.prototype.getTextStrokeWidth=function(){return this.textStrokeWidth};
VStickJS.Core.VSComponent.prototype.getTextStrokeColor=function(){if(this.textStrokeColor!=="")return this.textStrokeColor;else return this.style.textStrokeColor};VStickJS.Core.VSComponent.prototype.getBorderColor=function(){if(this.borderColor!=="")return this.borderColor;else return this.style.borderColor};VStickJS.Core.VSComponent.prototype.getDisplayShadow=function(){return this.displayShadow};
VStickJS.Core.VSComponent.prototype.getShadowColor=function(){if(this.shadowColor!=="")return this.shadowColor;else return this.style.shadowColor};VStickJS.Core.VSComponent.prototype.getShadowPosX=function(){return this.shadowPosX};VStickJS.Core.VSComponent.prototype.getShadowPosY=function(){return this.shadowPosY};VStickJS.Core.VSComponent.prototype.getShadowBlur=function(){if(this.shadowBlur!=="")return this.shadowBlur;else return this.style.shadowBlur};
VStickJS.Core.VSComponent.prototype.getRotation=function(){return this.rotation};VStickJS.Core.VSComponent.prototype.getSkewX=function(){return this.skewX};VStickJS.Core.VSComponent.prototype.getSkewY=function(){return this.skewY};VStickJS.Core.VSComponent.prototype.getDisplayTextShadow=function(){return this.displayTextShadow};VStickJS.Core.VSComponent.prototype.getTextShadowColor=function(){if(this.textShadowColor!=="")return this.textShadowColor;else return this.style.textShadowColor};
VStickJS.Core.VSComponent.prototype.getTextShadowPosX=function(){return this.textShadowPosX};VStickJS.Core.VSComponent.prototype.getTextShadowPosY=function(){return this.textShadowPosY};VStickJS.Core.VSComponent.prototype.getTextShadowBlur=function(){if(this.textShadowBlur!=="")return this.textShadowBlur;else return this.style.textShadowBlur};VStickJS.Core.VSComponent.prototype.getDisplayBorderShadow=function(){return this.displayBorderShadow};
VStickJS.Core.VSComponent.prototype.getBorderShadowColor=function(){if(this.borderShadowColor!=="")return this.borderShadowColor;else return this.style.borderShadowColor};VStickJS.Core.VSComponent.prototype.getBorderShadowPosX=function(){return this.borderShadowPosX};VStickJS.Core.VSComponent.prototype.getBorderShadowPosY=function(){return this.borderShadowPosY};VStickJS.Core.VSComponent.prototype.getBorderShadowBlur=function(){if(this.borderShadowBlur!=="")return this.borderShadowBlur;else return this.style.borderShadowBlur};
VStickJS.Core.VSComponent.prototype.getPixelBorder=function(){if(this.borderWidth>0)return this.borderWidth*this.BORDER_WIDTH_PAD;else return 0};VStickJS.Core.VSComponent.prototype.getBorderWidth=function(){var borderVal=this.getPixelBorder();if(this.borderWidth>0)if(this.width>0)if(this.scaleX>0)return this.width+borderVal*this.scaleX;else return this.width+borderVal;else if(this.scaleX>0)return(this.getActualWidth()+borderVal)*this.scaleX;else return this.getActualWidth()+borderVal;else return 0};
VStickJS.Core.VSComponent.prototype.getBorderHeight=function(){var borderVal=this.getPixelBorder();if(this.borderWidth>0)if(this.height>0)if(this.scaleY>0)return(this.height+borderVal)*this.scaleY;else return this.height+borderVal;else if(this.scaleY>0)return(this.getActualHeight()+borderVal)*this.scaleY;else return this.getActualHeight()+borderVal;else return 0};
VStickJS.Core.VSComponent.prototype.getBorderScaleX=function(){var borderVal=this.getPixelBorder();if(this.borderWidth>0)if(this.scaleX>0)if(this.width>0)return(this.width+borderVal)/this.getActualWidth()*this.scaleX;else return this.scaleX;else if(this.width>0)return(this.width+borderVal)/this.getActualWidth();else return 1;else return 1};
VStickJS.Core.VSComponent.prototype.getBorderScaleY=function(){var borderVal=this.getPixelBorder();if(this.borderWidth>0)if(this.scaleY>0)if(this.height>0)return(this.height+borderVal)/this.getActualHeight()*this.scaleY;else return this.scaleY;else if(this.height>0)return(this.height+borderVal)/this.getActualHeight();else return 1;else return 1};VStickJS.Core.VSComponent.prototype.getLinearGradient=function(){return this.linearGradient};VStickJS.Core.VSComponent.prototype.getRadialGradient=function(){return this.radialGradient};
VStickJS.Core.VSComponent.prototype.getTextPosX=function(){return this.textPosX};VStickJS.Core.VSComponent.prototype.getTextPosY=function(){return this.textPosY};VStickJS.Core.VSComponent.prototype.getTextAlign=function(){return this.textAlign};VStickJS.Core.VSComponent.prototype.getFilters=function(){return this.filters};VStickJS.Core.VSComponent.prototype.getStrokeStyle=function(){return this.strokeStyle};VStickJS.Core.VSComponent.prototype.getStrokeDash=function(){return this.strokeDash};
VStickJS.Core.VSComponent.prototype.getStrokeColor=function(){if(this.strokeColor!=="")return this.strokeColor;else return this.style.strokeColor};VStickJS.Core.VSComponent.prototype.getAlpha=function(){return this.alpha};VStickJS.Core.VSComponent.prototype.getImage=function(){if(this.image!=="")return this.image;else return null};
VStickJS.Core.VSComponent.prototype.getImageScaleX=function(imgWidth){if(this.scaleX>0)if(this.width>0)return this.width/imgWidth*this.scaleX;else return this.scaleX;else if(this.width>0)return this.width/imgWidth;else return 1};VStickJS.Core.VSComponent.prototype.getImageScaleY=function(imgHeight){if(this.scaleY>0)if(this.height>0)return this.height/imgHeight*this.scaleY;else return this.scaleY;else if(this.height>0)return this.height/imgHeight;else return 1};
VStickJS.Core.VSComponent.prototype.getGraphics=function(graphics){if(this.graphics!=="")return window.VStickJS.Skins[this.graphics](graphics)};
VStickJS.Core.VSComponent.prototype.getBorderShape=function(){var borderShape=new createjs.Shape;this.getGraphics(borderShape.graphics.beginFill(this.getBorderColor()));borderShape.rotation=this.getRotation();borderShape.skewX=this.getSkewX();borderShape.skewY=this.getSkewY();if(this.getDisplayBorderShadow()===true&&this.getPixelBorder()>0)borderShape.shadow=new createjs.Shadow(this.getBorderShadowColor(),this.getBorderShadowPosX(),this.getBorderShadowPosY(),this.getBorderShadowBlur());var bxp=this.getPixelBorder()/
2;borderShape.setBounds(this.getPosX()-bxp,this.getPosY()-bxp,this.getBorderWidth(),this.getBorderHeight());borderShape.setTransform(this.getPosX()-bxp,this.getPosY()-bxp,this.getBorderScaleX(),this.getBorderScaleY());return borderShape};
VStickJS.Core.VSComponent.prototype.draw=function(){var shapeContainer=new createjs.Container;var shape=new createjs.Shape;var linearGradient=this.getLinearGradient();var radialGradient=this.getRadialGradient();if(linearGradient.length===3&&radialGradient.length===0)this.getGraphics(shape.graphics.beginLinearGradientFill(linearGradient[0],linearGradient[1],linearGradient[2][0],linearGradient[2][1],linearGradient[2][2],linearGradient[2][3]));if(radialGradient.length===3&&linearGradient.length===0)this.getGraphics(shape.graphics.beginRadialGradientFill(radialGradient[0],
radialGradient[1],radialGradient[2][0],radialGradient[2][1],radialGradient[2][2],radialGradient[2][3],radialGradient[2][4],radialGradient[2][5]));if(radialGradient.length===0&&linearGradient.length===0){var strokeStyle=this.getStrokeStyle();var strokeDash=this.getStrokeDash();if(strokeStyle.length>0)if(strokeDash.length>0)this.getGraphics(shape.graphics.setStrokeStyle(strokeStyle[0]?strokeStyle[0]:0,strokeStyle[1]?strokeStyle[1]:0,strokeStyle[2]?strokeStyle[2]:0,strokeStyle[3]?strokeStyle[3]:0,strokeStyle[4]?
strokeStyle[4]:0).beginStroke(this.getStrokeColor()).setStrokeDash([strokeDash[0]?strokeDash[0]:5,strokeDash[1]?strokeDash[1]:5],strokeDash[2]?strokeDash[2]:0).beginFill(this.getFillColor()));else this.getGraphics(shape.graphics.setStrokeStyle(strokeStyle[0]?strokeStyle[0]:0,strokeStyle[1]?strokeStyle[1]:0,strokeStyle[2]?strokeStyle[2]:0,strokeStyle[3]?strokeStyle[3]:0,strokeStyle[4]?strokeStyle[4]:0).beginStroke(this.getStrokeColor()).beginFill(this.getFillColor()));else this.getGraphics(shape.graphics.beginFill(this.getFillColor()))}if(this.getFilters().length>
0)shape.filters=this.getFilters();var img=this.getImage();var classObj=this;var bitmap;if(img!==null){var imgLoader=new Image;imgLoader.src=img;imgLoader.onload=imageLoadHandler}function imageLoadHandler(){bitmap=new createjs.Bitmap(img);bitmap.rotation=classObj.getRotation();bitmap.skewX=classObj.getSkewX();bitmap.skewY=classObj.getSkewY();bitmap.setBounds(classObj.getPosX(),classObj.getPosY(),classObj.getWidth(),classObj.getHeight());bitmap.setTransform(classObj.getPosX(),classObj.getPosY(),classObj.getImageScaleX(bitmap.image.width),
classObj.getImageScaleY(bitmap.image.height));bitmap.regX=classObj.getRegX();bitmap.regY=classObj.getRegY();if(classObj.maskImage===true)bitmap.mask=shape;shapeContainer.addChild(bitmap)}if(this.getAlpha()!=="")shape.alpha=this.getAlpha();shape.rotation=this.getRotation();shape.skewX=this.getSkewX();shape.skewY=this.getSkewY();if(this.getDisplayShadow()===true)shape.shadow=new createjs.Shadow(this.getShadowColor(),this.getShadowPosX(),this.getShadowPosY(),this.getShadowBlur());shape.setBounds(this.getPosX(),
this.getPosY(),this.getWidth(),this.getHeight());shape.setTransform(this.getPosX(),this.getPosY(),this.getScaleX(),this.getScaleY());shape.regX=this.getRegX();shape.regY=this.getRegY();shape.name=this.name;if(this.getText()!==""){var txtContainer=new createjs.Container;var txtFont=this.getFontSize()+" "+this.getFontFamily();var txtColor=this.getTextStrokeWidth()>0?this.getTextStrokeColor():this.getColor();var txtOutline=this.getTextStrokeWidth()>0?this.getTextStrokeWidth():false;var txt=new createjs.Text(this.getText(),
txtFont,txtColor);txt.outline=txtOutline;if(this.getTextAlign()==="center"){txt.x=(this.getWidth()-txt.getBounds().width)/2;txt.y=(this.getHeight()-txt.getBounds().height)/2}else if(this.getTextAlign()===""){txt.x=this.getTextPosX();txt.y=this.getTextPosY()}txt.maxWidth=1E3;if(this.getDisplayTextShadow()===true&&txtOutline===false)txt.shadow=new createjs.Shadow(this.getTextShadowColor(),this.getTextShadowPosX(),this.getTextShadowPosY(),this.getTextShadowBlur());if(txtOutline>0){var txt2=txt.clone();
txt2.outline=false;txt2.color=this.getColor();if(this.getDisplayTextShadow()===true)txt.shadow=new createjs.Shadow(this.getTextShadowColor(),this.getTextShadowPosX(),this.getTextShadowYosY(),this.getTextShadowBlur())}if(txtOutline>0)txtContainer.addChild(txt,txt2);else txtContainer.addChild(txt)}if(this.getPixelBorder()>0)if(this.getText()!=="")shapeContainer.addChild(this.getBorderShape(),shape,txtContainer);else shapeContainer.addChild(this.getBorderShape(),shape);else if(this.getText()!=="")shapeContainer.addChild(shape,
txtContainer);else shapeContainer.addChild(shape);return shapeContainer};VStickJS.Global.JoystickProperty={isDragging:false,joyStickMouseX:0};
VStickJS.Controls.JoyStick=function(_stage){this.stage=_stage;this.enableMouseEvent=false;this.enableTouchEvent=false;this.cage=null;this.knob=null;this.cageContainer=null;this.knobContainer=null;this.joystick=null;this.joystickPosX=150;this.joystickPosY=150;this.moveX=0;this.moveY=0;this.vertical=0;this.horizontal=0;this.startX=0;this.startY=0;this.angle=0;this.delay=.6;this.speedX=5;this.radius=50;this.tension=.5;this.moveSpeed=10;this.isMoving=false};
VStickJS.Controls.JoyStick.prototype.setCage=function(_cage){this.cage=_cage};VStickJS.Controls.JoyStick.prototype.setKnob=function(_knob){this.knob=_knob};VStickJS.Controls.JoyStick.prototype.setCageContainer=function(_cage2){this.cageContainer=_cage2};VStickJS.Controls.JoyStick.prototype.setKnobContainer=function(_knob2){this.knobContainer=_knob2};
VStickJS.Controls.JoyStick.prototype.draw=function(){if(this.cage!==null&&this.knob!==null){if(this.cageContainer!==null){this.cageContainer.x=this.joystickPosX;this.cageContainer.y=this.joystickPosY;this.stage.addChild(this.cageContainer)}if(this.knobContainer!==null){this.knobContainer.x=this.joystickPosX;this.knobContainer.y=this.joystickPosY;this.stage.addChild(this.knobContainer)}this.joystick=new createjs.Container;this.joystick.x=this.joystickPosX;this.joystick.y=this.joystickPosY;this.joystick.addChild(this.cage,
this.knob);this.stage.addChild(this.joystick);this.startX=this.joystick.x;this.startY=this.joystick.y;if(this.enableMouseEvent===true){this.joystick.addEventListener("mousedown",this.mouseDownHandler);this.joystick.addEventListener("pressup",this.pressUpHandler);this.joystick.addEventListener("pressmove",this.pressMoveHandler)}if(this.enableTouchEvent===true);}};VStickJS.Controls.JoyStick.prototype.mouseDownHandler=function(){VStickJS.Global.JoystickProperty.isDragging=true};
VStickJS.Controls.JoyStick.prototype.pressUpHandler=function(){VStickJS.Global.JoystickProperty.isDragging=false};VStickJS.Controls.JoyStick.prototype.pressMoveHandler=function(evt){VStickJS.Global.JoystickProperty.joyStickMouseX=evt.localX};
VStickJS.Controls.JoyStick.prototype.update=function(){if(this.cage!==null&&this.knob!==null)if(VStickJS.Global.JoystickProperty.isDragging===true){this.isMoving=true;this.angle=Math.atan2(this.stage.mouseY-this.startY,this.stage.mouseX-this.startX)/(Math.PI/180);this.joystick.rotation=this.angle;this.knob.rotation=-this.angle;this.knob.x=VStickJS.Global.JoystickProperty.joyStickMouseX;if(this.knob.x>this.radius)this.knob.x=this.radius;this.moveX+=Math.cos(this.angle*(Math.PI/180))*(this.knob.x/this.moveSpeed);
this.moveY+=Math.sin(this.angle*(Math.PI/180))*(this.knob.x/this.moveSpeed);this.horizontal=Math.cos(this.angle*(Math.PI/180));this.vertical=Math.sin(this.angle*(Math.PI/180))}else{this.isMoving=false;this.speedX=-this.knob.x*this.tension+this.speedX*this.delay;this.knob.x+=this.speedX;this.horizontal=0;this.vertical=0}};
